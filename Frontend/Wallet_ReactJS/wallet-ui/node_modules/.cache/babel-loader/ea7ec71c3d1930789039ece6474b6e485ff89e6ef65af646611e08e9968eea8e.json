{"ast":null,"code":"var _jsxFileName = \"/Users/rushalsohal/Desktop/WalletUI/wallet-ui/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst WALLET_API_BASE_URL = \"http://localhost:8080/wallet\";\nfunction Login() {\n  _s();\n  const navigate = useNavigate();\n  const [uname, setUname] = useState('');\n  const [pwd, setPwd] = useState('');\n  // const [authenticated, setAuthenticated] = useState(localStorage.getItem(localStorage.getItem(\"authenticated\")|| false));\n\n  const validate = () => {\n    if (uname.trim().length > 0 && pwd.trim().length > 0) {\n      return true;\n    }\n    return false;\n  };\n  const handleRegister = e => {\n    e.preventDefault();\n    let isValid = validate();\n    if (isValid) {\n      axios.post(WALLET_API_BASE_URL + \"/register\", {\n        username: uname,\n        password: pwd\n      }).then(response => {\n        //  console.log(response);\n        if (response.data.errorCode === 1) {\n          alert(\"Username already taken! Try another\");\n          setUname('');\n          setPwd('');\n        } else {\n          alert(\"Registation Successful\");\n          setUname('');\n          setPwd('');\n        }\n      }).catch(error => {\n        console.log(error);\n        alert(\"Registation Failed\");\n      });\n    } else {\n      alert(\"Invalid input\");\n    }\n  };\n  const handleLogin = e => {\n    e.preventDefault();\n    let isValid = validate();\n    if (isValid) {\n      axios.post(WALLET_API_BASE_URL + \"/login\", {\n        username: uname,\n        password: pwd\n      }).then(response => {\n        if (response.data.errorCode === 1) {\n          alert(\"Login Failed! Invalid credentials.\");\n          setUname('');\n          setPwd('');\n        } else {\n          //   setAuthenticated(true)\n          //   localStorage.setItem(\"authenticated\", true);\n          alert(\"Login successful\");\n          setUname('');\n          setPwd('');\n          navigate(\"/wallet\", {\n            state: {\n              username: uname\n            }\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n        alert(\"Login failed! Error occured\");\n      });\n    } else {\n      alert(\"Invalid input\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        placeholder: \"username\",\n        value: uname,\n        onChange: e => {\n          setUname(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        placeholder: \"password\",\n        value: pwd,\n        onChange: e => {\n          setPwd(e.target.value);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleLogin,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRegister,\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n}\n_s(Login, \"fbzRbn5gf8HCw/gHRdaPY6TOqpk=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","axios","useNavigate","WALLET_API_BASE_URL","Login","navigate","uname","setUname","pwd","setPwd","validate","trim","length","handleRegister","e","preventDefault","isValid","post","username","password","then","response","data","errorCode","alert","catch","error","console","log","handleLogin","state","target","value"],"sources":["/Users/rushalsohal/Desktop/WalletUI/wallet-ui/src/components/Login.js"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from \"react-router-dom\";\n\nconst WALLET_API_BASE_URL = \"http://localhost:8080/wallet\";\n\nfunction Login() {\n    const navigate = useNavigate();\n    const [uname, setUname] = useState('');\n    const [pwd, setPwd] = useState('');\n   // const [authenticated, setAuthenticated] = useState(localStorage.getItem(localStorage.getItem(\"authenticated\")|| false));\n\n    const validate = () => {\n        if (uname.trim().length > 0 && pwd.trim().length > 0) {return true}\n        return false\n    }\n\n    const handleRegister = (e) => {\n        e.preventDefault();\n       let isValid = validate();\n    if(isValid)\n    {\n        axios.post(WALLET_API_BASE_URL+\"/register\",\n        {\n        username: uname,\n        password: pwd\n        })\n            .then(response => {\n              //  console.log(response);\n                if(response.data.errorCode === 1){\n                    alert(\"Username already taken! Try another\");\n                    setUname('');\n                    setPwd('');\n                }\n                else{\n                    alert(\"Registation Successful\");\n                    setUname('');\n                    setPwd('');\n                }\n            })\n            .catch(error => {\n                console.log(error);\n                alert(\"Registation Failed\");\n            });\n    }\n    else{\n        alert(\"Invalid input\")\n    }\n    }\n\n    const handleLogin = (e) => {\n        e.preventDefault();\n        let isValid = validate();\n\n        if (isValid) {\n        axios.post(WALLET_API_BASE_URL+\"/login\",\n        {\n        username: uname,\n        password: pwd\n        })\n            .then(response => {\n                if(response.data.errorCode === 1){\n                    alert(\"Login Failed! Invalid credentials.\");\n                    setUname('');\n                    setPwd('');\n                }\n                else{\n                 //   setAuthenticated(true)\n                 //   localStorage.setItem(\"authenticated\", true);\n                    alert(\"Login successful\");\n                    setUname('');\n                    setPwd('');\n                    navigate(\"/wallet\", {\n                        state:{\n                            username: uname\n                        }\n                    });\n                }\n            })\n            .catch(error => {\n                console.log(error);\n                alert(\"Login failed! Error occured\");\n            });\n        }\n        else{\n            alert(\"Invalid input\")\n        }\n    }\n\n    return (\n        <>\n        <h1>Welcome</h1>\n          <div>\n            <input\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"username\"\n              value={uname}\n             onChange={(e) =>\n                {\n                    setUname(e.target.value);      \n                }}\n            /> \n          </div>\n\n          <div>\n            <input\n              type=\"text\"\n              name=\"password\"\n              placeholder=\"password\"\n              value={pwd}\n             onChange={(e) =>\n                {\n                    setPwd(e.target.value);      \n                }}\n            />\n          </div>\n          <button onClick={handleLogin}>Login</button>\n          <button onClick={handleRegister}>Register</button>\n\n      </>\n    )\n}\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}